<script>
  function editPointSource(transducer) {
    const form = document.getElementById("createTransducerForm")
    form.positionX.value = transducer.position[0]
    form.positionY.value = transducer.position[1]
    form.positionZ.value = transducer.position.length > 2 ? transducer.position[2] : ""
    form.delay.value = transducer.delay
  }

  function getPointSourceParams(formData) {
    let position = [formData.positionX, formData.positionY]
    if (!scenarioIs2d()){
      position.push(formData.positionZ)
    }
    const delay = formData.delay
    return {
      position,
      delay,
    }
  }
</script>
<fieldset>
  {% include 'components/parameters/transducers/fill_default_values_button.html'
  %}
  <div class="row">
    <div class="col mb-3">
      <label
        for="positionX"
        data-bs-toggle="tooltip"
        data-bs-placement="right"
        title="The coordinate (in meters) of the point at the center of the transducer">Position
        X</label>
      <input
        type="number"
        step="any"
        class="form-control"
        name="positionX"
        placeholder="0.0"
        required />
    </div>
    <div class="col mb-3">
      <label
        for="positionY"
        data-bs-toggle="tooltip"
        data-bs-placement="right"
        title="The coordinate (in meters) of the point at the center of the transducer">Position
        Y</label>
      <input
        type="number"
        step="any"
        class="form-control"
        name="positionY"
        placeholder="0.0"
        required />
    </div>
    <div class="col mb-3" data-3d-only="true" hidden>
      <label
        for="positionZ"
        data-bs-toggle="tooltip"
        data-bs-placement="right"
        title="The coordinate (in meters) of the point at the center of the transducer">Position
        Z</label>
      <input
        type="number"
        step="any"
        class="form-control"
        name="positionZ"
        placeholder="0.0"
        data-3d-input-only="true" />
    </div>
  </div>
  <div class="mb-3">
    <label
      for="delay"
      data-bs-toggle="tooltip"
      data-bs-placement="right"
      title="The delay (in seconds) that the source will wait before emitting">Delay</label>
    <input
      type="number"
      step="any"
      class="form-control"
      name="delay"
      placeholder="0.0"
      required />
  </div>
</fieldset>
